# Principal Component Analysis (PCA)

The `PCA` tool is used to decrease the dimensionality of the dataset, making it easier to interpret. It accomplishes this via principal components, which are linear combinations of the original dataset. Principal components will begin with a PC 1 value, meaning it is the singular principal component in a one-dimensional space, followed by PC 2 (two-dimensional space), PC 3 (three-dimensional space), and so on. As you lower the number of dimensions, you will naturally lose some data. Explained variance values are included, which signifies how much information is retained at each dimension. Say, for example, you have a ten-dimensional dataset that you want to summarize using two components. To accomplish this, you can use the PC 1 and PC 2 values to do so, with PC 1 holding more significance. 

**Menu Access:** `Analysis` > `PCA`

**Toolbar Icon:** ![](/images/analysis/pca.png)

## Running the Analysis

1. Go to the `Window` menu and select one of the data tables. This will bring the selected table window to the front.
    ![](/images/analysis/rf-start.png)

2. Start the PCA tool by clicking on the icon in the toolbar or via the `Analysis` > `PCA` menu.

3. In the `Configuration: PCA` dialog, define `N-components`. This variable will control the number of principal components generated by the algroithm. The value will default to 0.999, meaning that the algorithm will stop outputting new components once the 99.9% variance is met. Lower `N-components` values will produce a lower number of components.
    
    ![](/images/analysis/pca-dialog.png)

4. Check off the boxes for `Include original data`, `Include standardized data`, and `Explained histogram` accordingly. The `Include original data` option will include the original data in the outputted txt file with the principal components, while the `Include standardized data` option will include the scaled data in that txt file. The 'Explained histogram` option simply plots the explained variance values on a histogram for visualization.
5. Select the data grouping and data features of interest. Data grouping options are based on the tables category columns,  i.e. `Cell`, `FOV`, and `Treatment` in this example. Data features correspond to columns with numeric data, `FAD a1`, etc..

    In the example, input data is grouped by 'Cell, FOV, Treatment', and key data features are selected. 
    
4. Click `OK`.

5. The analysis results are shown in two new data tables, as well as a histogram if the `Explained Histogram` checkbox is checked off. One of the new data tables contains the principal component values for each data point, along with standardized and original data values if selected. The other data table contains the explained variance ratio for each component.

## Example Output

**Example Results:** `Data Grouping` - `Cell, FOV, Treatment`
![](/images/analysis/pca-res.png)
17 principal components were generated using the default N-components, meaning these 17 PCs reach 99.9% variance. 


Histogram with the explained variance values for each principal component:
![](/images/analysis/pca-hist.png)


